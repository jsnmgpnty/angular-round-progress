var angularRoundProgressBar=angular.module("angularRoundProgressBar",[]);angularRoundProgressBar.directive("roundProgressBar",["$interval","$timeout",function(a,b){var c={thickness:20,size:240,baseColor:"#5cb85c",dangerColor:"#d9534f",warningColor:"#f0ad4e",dangerLevel:50,warningLevel:74},d='<div class="round-progress-container"><canvas id="round-progress-bar" width="{{size}}" height="{{size}}"></canvas><div class="progress-display center-absolute"><label>{{progressValue}}</label><span class="center-absolute">%</span></div></div>',e=function(a){a.$on("setProgressBarValue",function(b,c){a.setProgressBarValue(c)})};return e.$inject=["$scope"],{controller:e,scope:{currentValue:"="},replace:!0,template:d,link:function(d,e,f){d.thickness=parseInt(f.thickness?f.thickness:c.thickness),d.size=parseInt(f.size?f.size:c.size),d.baseColor=f.baseColor?f.baseColor:c.baseColor,d.warningColor=f.warningColor?f.warningColor:c.warningColor,d.dangerColor=f.dangerColor?f.dangerColor:c.dangerColor,d.dangerLevel=parseInt(f.dangerLevel?f.dangerLevel:c.dangerLevel),d.warningLevel=parseInt(f.warningLevel?f.warningLevel:c.warningLevel),d.progressValue=0;var g=$(e).find("#round-progress-bar")[0],h=g.getContext("2d"),i=2*Math.PI,j=Math.PI/2,k=function(){return d.progressValue<d.dangerLevel?d.dangerColor:d.progressValue<d.warningLevel?d.warningColor:d.baseColor},l=(h.getImageData(0,0,d.size,d.size),function(){h.beginPath(),h.strokeStyle=k(),h.lineCap="square",h.closePath(),h.fill(),h.lineWidth=d.thickness,h.beginPath();var a=d.size/2;h.arc(a,a,a-50,-j,i*(d.progressValue/100)-j,!1),h.stroke(),$(e).find("label").css({"font-size":a-50+"px"}),$(e).find("span").css({"font-size":(a-50)/3+"px","margin-top":a-50+"px"})}),m=function(){g.width=d.size,g.height=d.size,h.beginPath(),h.strokeStyle="#ccc",h.lineCap="square",h.closePath(),h.fill(),h.lineWidth=d.thickness;var a=d.size/2;h.arc(a,a,a-50,-j,i-j,!1),h.stroke()},n=function(){b(function(){h.clearRect(0,0,g.width,g.height),m();var b;b=a(function(){l(),d.progressValue>=d.currentValue?(a.cancel(b),b=void 0):d.progressValue++},10)},500)};d.setProgressBarValue=function(a){isNaN(a)||0>a||a>100||(d.progressValue=0,d.currentValue=a,n())},d.setProgressBarValue(d.currentValue)}}}]);